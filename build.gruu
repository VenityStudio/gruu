<?

use php\lib\fs;

/**
 * @task buildScript
 */
function buildScript() {
    // Apply build script at runtime
}

/**
 * @task plugins
 * @description Load plugins
 */
function plugins() {
    return [
        "jphp",
    ];
}

/**
 * @task dependencies
 * @description Load dependencies
 */
function dependencies() {
    return [
        "jppm" => [
            "jphp-core",
            "jphp-runtime",
            "jphp-json-ext",
            "jphp-zend-ext"
        ]
    ];
}

/**
 * @task configure
 * @extends dependencies
 * @description configure project
 */
function configure() {
    return [
        "jphp" => [
            "name" => "gruu",
            "version" => "1.0.0-dev",
            "file-name" => "gruu-last",
            "description" => "Fast and flexible build tool",
            "sources" => ["./src"],
            "bootstrap" => "index.php",
            "args" => "--version"
        ]
    ];
}

/**
 * @task build
 * @extends configure, jphp:build
 * @description Build gruu using gruu
 */
function build() {
    foreach (["./bin/gruu", "./bin/gruu.bat"] as $file)
        gruuCopy($file, "./build/");

    gruuCopy("./plugins/", "./build/plugins");
}

/**
 * @task run
 * @extends configure
 * @description Start gruu using gruu
 * @alias jphp:run
 */
function run() {

}